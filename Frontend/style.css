:root{
  --bg:#978979; --card:#cfb694; --accent:#c5b184; --text:#000000;
  --clase:#7da6ff; --lab:#74c28c; --examen:#e87474; --otro:#b084d8;
  --shadow: rgba(0,0,0,0.12);
}
body.dark{ --bg:#2b2d33; --card:#3b3f48; --text:#f1f1f1; --shadow: rgba(0,0,0,0.5); }
*{box-sizing:border-box}
body{margin:0;padding:20px;font-family:'Poppins',sans-serif;background:var(--bg);color:var(--text)}
.theme-btn{position:fixed;right:16px;top:16px;background:var(--accent);color:#fff;border:none;padding:8px 10px;border-radius:8px;cursor:pointer}
.help-btn{position:fixed;right:16px;top:60px;width:36px;height:36px;border-radius:50%;background:#fff;color:#333;border:none;font-weight:700;box-shadow:0 2px 6px var(--shadow);cursor:pointer}

.wrap{max-width:980px;margin:0 auto}
.top{display:flex;justify-content:space-between;align-items:center;gap:16px}
.top h1{margin:0;font-size:28px}
.month-controls{display:flex;align-items:center;gap:8px}
.monthLabel{font-size:18px;font-weight:600;text-transform:capitalize}
.month-controls button{background:none;border:none;font-size:18px;cursor:pointer;color:var(--text)}

.legend-row{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
.legend{display:flex;gap:8px}
.legend-btn{background:var(--card);border:none;padding:8px 10px;border-radius:8px;cursor:pointer;box-shadow:0 2px 6px var(--shadow)}
.hint{font-size:13px;color:var(--text);opacity:0.9;margin-left:10px}

.calendar-wrap{margin-top:16px;background:var(--card);padding:14px;border-radius:12px;box-shadow:0 8px 20px var(--shadow)}
.weekday-header{display:grid;grid-template-columns:repeat(7,1fr);gap:12px;margin-bottom:8px;color:var(--text);opacity:0.9;font-weight:600;text-align:left;padding-left:6px}
.calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:12px}

.day{background:var(--card);padding:10px;height:100px;border-radius:10px;position:relative;display:flex;justify-content:space-between;align-items:flex-start;border:1px solid rgba(0,0,0,0.04);cursor:pointer;box-shadow:0 3px 8px var(--shadow);overflow:hidden}
.left{display:flex;flex-direction:column;gap:6px}
.week{font-size:13px;opacity:0.75}
.num{font-size:20px;font-weight:700}
.dots{position:absolute;right:8px;top:22px;display:flex;flex-direction:column;gap:6px;align-items:center}
.dot{width:12px;height:12px;border-radius:50%;box-shadow:0 1px 2px rgba(0,0,0,0.12)}

.actions{display:flex;gap:10px;justify-content:center;margin-top:14px}
.btn{padding:8px 12px;border-radius:8px;border:none;cursor:pointer;background:#7f8ea6;color:#fff}
.accent{background:var(--accent)}
.danger{background:#d9534f}

.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.55);z-index:90}
.hidden{display:none}
.modal-box{width:880px;max-width:96%;background:var(--card);padding:16px;border-radius:12px;position:relative;display:flex;gap:18px;box-shadow:0 10px 30px rgba(0,0,0,0.25)}
.x{position:absolute;right:12px;top:8px;border:none;background:none;font-size:18px;cursor:pointer;color:var(--text)}

.modal-left{width:45%}
.modal-left select,.modal-left input{width:100%;padding:8px;margin:8px 0;border-radius:8px;border:1px solid rgba(0,0,0,0.06)}
.time-row{display:flex;gap:6px}
.modal-actions{display:flex;gap:8px;margin-top:6px}
.ev-list{list-style:none;padding:0;margin:8px 0;max-height:220px;overflow:auto}
.ev-list li{background:rgba(0,0,0,0.03);padding:8px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}

.modal-right{width:55%}
.timeline{height:520px;overflow:auto;border-left:3px solid rgba(0,0,0,0.06);padding-left:12px}
.timeline .hour{display:flex;align-items:center;gap:8px;padding:6px;border-bottom:1px solid rgba(0,0,0,0.03)}
.timeline-block{display:inline-block;padding:6px 10px;border-radius:8px;color:#fff;margin-left:8px;cursor:pointer}

.help-box{max-width:680px}
.help-content h2{margin-top:0}
.help-content p{margin:8px 0}
